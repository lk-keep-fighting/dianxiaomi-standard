# 店小秘自动化系统 - 用户手册

欢迎使用店小秘自动化系统!本手册将帮助您快速上手使用本系统。

## 📖 系统简介

店小秘自动化系统是一个智能工具,可以帮您:
- 📦 从Amazon产品页面自动提取产品信息
- ✍️ 自动填写DataCaciques表单
- ⚡ 节省大量手动复制粘贴的时间

**简单来说**:只需提供Amazon产品链接,系统会自动获取产品信息并填写到表单中。

---

## 🚀 开始使用

### 第一步:检查系统要求

使用本系统前,请确保您的电脑满足以下条件:
- ✅ 安装了Python 3.8或更高版本
- ✅ 操作系统为macOS或Linux(Windows用户需要WSL)
- ✅ 至少4GB内存
- ✅ 稳定的网络连接

### 第二步:安装系统

**方法一:一键安装(推荐)**
```bash
# 打开终端,进入项目文件夹
cd 店小秘自动化-warp2

# 运行安装脚本
./scripts/install_dependencies.sh
```

**方法二:手动安装**
```bash
# 安装Python依赖
pip install -r requirements.txt

# 安装浏览器驱动
python -m playwright install chromium
```

### 第三步:配置账号信息

为了保护您的账号安全,系统采用环境变量配置:

```bash
# 设置您的DataCaciques账号
export DC_USERNAME="您的用户名"
export DC_PASSWORD="您的密码"
export ENVIRONMENT="production"
```

**提示**:建议在`.zshrc`或`.bashrc`文件中添加这些配置,这样每次打开终端都会自动生效。

### 第四步:运行系统

**方法一:使用快捷脚本(推荐)**
```bash
./scripts/run.sh
```

**方法二:直接运行**
```bash
python src/main.py
```

---

## 📝 使用流程

### 完整操作步骤

1. **启动系统**
   - 运行`./scripts/run.sh`或`python src/main.py`
   - 系统会自动打开浏览器

2. **准备Amazon产品链接**
   - 复制您要处理的Amazon产品页面URL
   - 例如: `https://www.amazon.com/dp/B08XYZ1234`

3. **系统自动处理**
   - 系统会自动访问Amazon页面
   - 提取产品信息(品牌、尺寸、重量、材质等)
   - 自动登录DataCaciques(首次需要手动登录)
   - 自动填写表单

4. **检查结果**
   - 系统会显示填写统计
   - 您可以在表单中查看和调整填写的内容

---

## 🎯 系统能提取哪些信息?

系统可以自动提取以下Amazon产品信息:

### 基础信息
- 🏷️ **品牌名称** (Brand Name)
- 🏭 **制造商** (Manufacturer)
- 🎨 **颜色** (Color)
- 🧱 **材质** (Material)

### 尺寸信息
- 📏 **产品长度** (Length)
- 📏 **产品宽度** (Width)
- 📏 **产品深度** (Depth/Height)
- ⚖️ **产品重量** (Weight)

### 详细特征
- ⭐ **特殊功能** (Special Features)
- 🎭 **风格** (Style)
- 📐 **形状** (Shape)
- 💪 **承重能力** (Weight Capacity)

---

## ❓ 常见问题

### 问题1:系统无法启动?

**解决方法**:
```bash
# 重新安装浏览器驱动
python -m playwright install --with-deps chromium

# 检查脚本权限
chmod +x scripts/install_dependencies.sh scripts/run.sh
```

### 问题2:某些字段没有填写?

**可能原因**:
- Amazon页面没有该信息
- 信息格式不标准,系统无法识别
- 网络问题导致页面加载不完整

**解决方法**:
- 查看系统日志,了解具体原因
- 手动补充缺失的信息
- 尝试重新运行

### 问题3:首次登录DataCaciques?

**操作步骤**:
1. 系统会自动打开登录页面
2. 手动输入账号密码完成登录
3. 系统会自动保存登录状态
4. 下次运行时会自动登录

### 问题4:如何启用调试模式?

```bash
# 设置调试模式,查看详细日志
export DEBUG="1"
python src/main.py
```

---

## 📊 系统性能

### 处理速度
- ⚡ 单个产品处理时间: 5-10秒
- 📈 表单填写成功率: >95%
- 💾 内存占用: <500MB

### 可靠性
- 🛡️ 多重策略确保数据提取准确
- 🔄 自动重试机制
- 📝 详细的操作日志

---

## 💡 使用技巧

### 技巧1:批量处理产品
虽然当前版本需要逐个处理,但您可以:
- 准备好所有产品链接列表
- 按顺序依次处理
- 系统会保持登录状态,加快处理速度

### 技巧2:检查填写结果
系统填写完成后:
- ✅ 查看控制台输出的统计信息
- ✅ 在表单中检查关键字段
- ✅ 对自动填写的内容进行微调

### 技巧3:处理特殊情况
如果遇到特殊产品:
- 系统会尽可能提取可用信息
- 无法识别的字段会被跳过
- 您可以手动补充这些信息

---

## 🔒 安全提示

1. **保护账号信息**
   - ⚠️ 不要在代码中硬编码账号密码
   - ✅ 始终使用环境变量配置
   - ✅ 不要分享包含密码的配置文件

2. **网络安全**
   - 🔒 建议在安全的网络环境下运行
   - 🔒 避免在公共WiFi下使用

3. **数据隐私**
   - 📋 系统不会上传您的数据到第三方
   - 💾 登录状态保存在本地`data/auth_states/`目录

---

## 📞 需要帮助?

### 查看日志
系统运行时会在控制台输出详细日志,包括:
- 正在处理的步骤
- 成功提取的字段
- 遇到的错误和警告

### 测试系统
如果怀疑系统有问题,可以运行测试:
```bash
python archive/non_startup_assets/tests/test_refactored_system.py
```

### 反馈问题
如遇到无法解决的问题,请:
1. 记录错误信息
2. 保存问题截图
3. 通过项目issue系统反馈

---

## 🎓 术语解释

- **Amazon解析器**: 负责从Amazon页面提取产品信息的模块
- **表单填充引擎**: 负责将提取的信息填写到DataCaciques表单的模块
- **字段映射**: Amazon字段名称与表单字段名称的对应关系
- **环境变量**: 在操作系统级别设置的配置信息,比命令行参数更安全

---

## ✨ 开始您的自动化之旅

现在您已经了解了系统的基本使用方法,可以开始使用了!

记住这三个简单步骤:
1. 🚀 启动系统: `./scripts/run.sh`
2. 🔗 准备Amazon链接
3. ✅ 等待自动填写完成

祝您使用愉快! 🎉

---

**提示**: 本系统会持续更新改进,建议定期检查更新。
